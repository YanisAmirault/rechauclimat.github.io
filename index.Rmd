---
title: "Climat & Végétation en Banlieue Parisienne"
output:
  html_document:
    self_contained: true
---
```{r test-leaflet-minimal, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
library(leaflet)

leaflet() %>%
  addTiles()
```

# Projet SIG : Climat & Végétation en Banlieue Parisienne

## Contexte

Ce site présente une étude SIG portant sur le lien entre **végétation** et **îlots de chaleur urbains** dans trois communes contrastées :  
**Clamart**, **Gennevilliers** et **Le Châtelet-en-Brie**.


```{r carte-interactive-idf, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}
library(sf)
library(dplyr)
library(leaflet)

# Charger le fichier GeoJSON (adapté à ton chemin réel)
idf <- st_read("communes-france.geojson", quiet = TRUE)

# Vérifie les colonnes
# names(idf)

# Sélection des 3 communes
selection <- idf %>%
  dplyr::filter(com_name_upper %in% c("CLAMART", "GENNEVILLIERS", "LE CHÂTELET-EN-BRIE"))

map <- leaflet() %>%
  addTiles() %>%
  addPolygons(data = idf, color = "lightgray", weight = 0.5, fillOpacity = 0.2, label = ~com_name_upper) %>%
  addPolygons(data = selection, color = "blue", fillColor = "skyblue", weight = 2) %>%
  addLabelOnlyMarkers(data = st_centroid(selection), label = ~com_name_upper,
                      labelOptions = labelOptions(noHide = TRUE, direction = "bottom", textOnly = TRUE))

print(map)
```

## Problématique

**Comment la couverture végétale agit-elle sur les températures urbaines, et comment contribue-t-elle à créer des îlots de fraîcheur ?**
